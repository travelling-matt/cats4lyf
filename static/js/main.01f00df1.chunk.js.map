{"version":3,"sources":["Components/modal.js","cats4lyf.png","App.js","index.js"],"names":["_","require","BasketItem","props","index","className","src","item","url","alt","name","amount","onClick","func","Basket","handleCloseModal","catsInfo","basketAdd","setBasketAdd","total","setTotal","count","setCount","totalSum","sum","toFixed","map","img","storedBasket","splice","storedTotal","removeItemHandler","App","useState","setCatsInfo","setLoading","error","message","setError","showModal","setShowModal","catName","setCatName","catPrice","setCatPrice","genre","setGenre","handler","a","fetch","response","console","log","status","Error","json","data","length","useEffect","storedCatNames","storedCatPrice","storedGenre","i","push","faker","firstName","finance","music","fakeNameHandler","Cat","pic","parseFloat","addBasketHandler","isOpen","CatImg","cat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01f00df1.chunk.js","sourcesContent":["\r\n// import ReactModal from 'react-modal';\r\nimport React from 'react';\r\n\r\n\r\nconst _ = require(\"lodash\")\r\n\r\nconst Basket = ({ handleCloseModal, catsInfo, basketAdd, setBasketAdd, total, setTotal, count, setCount }) => {\r\n\r\n    const removeItemHandler = (index) => {\r\n        const storedBasket = [...basketAdd]\r\n        storedBasket.splice(index, 1)\r\n        setBasketAdd(storedBasket)\r\n        const storedTotal = [...total]\r\n        storedTotal.splice(index, 1)\r\n        setTotal(storedTotal)\r\n        setCount(count - 1)\r\n    }\r\n    const totalSum = _.sum(total).toFixed(2)\r\n\r\n    return (\r\n        <div className=\"catGrid\">\r\n            {basketAdd.map((item, index) => {\r\n\r\n                return <BasketItem item={item} key={index} total={total} img={catsInfo.url} func={() => removeItemHandler(index)} />\r\n            })}\r\n            <div className=\"checkout\">\r\n                <p>Total: £{totalSum}</p>\r\n                <button className=\"adoptBtn\" onClick={handleCloseModal}>Close basket </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst BasketItem = (props, index) => {\r\n    return (\r\n        <div>\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"imgCat\" src={props.item.url} alt=\"\" />\r\n                <p>{props.item.name}</p>\r\n                <div className=\"cardFooter\">\r\n                    <p>£{props.item.amount}</p>\r\n\r\n                    <button className=\"adoptBtn\" onClick={() => props.func()}>Remove item</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Basket","export default __webpack_public_path__ + \"static/media/cats4lyf.ac1686ef.png\";","import { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport faker from \"faker\"\r\nimport './App.css';\r\nimport Modal from \"react-modal\"\r\nimport Basket from \"./Components/modal\";\r\nimport CatImg from \"./cats4lyf.png\"\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [catsInfo, setCatsInfo] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\r\n    {\r\n      error: false,\r\n      message: \"\"\r\n    }\r\n  );\r\n  const [showModal, setShowModal] = useState(false)\r\n  const [basketAdd, setBasketAdd] = useState([])\r\n  const [catName, setCatName] = useState([])\r\n  const [catPrice, setCatPrice] = useState([])\r\n  const [total, setTotal] = useState(\"\")\r\n  const [genre, setGenre] = useState([])\r\n\r\n  const [count, setCount] = useState(0)\r\n\r\n  const handler = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const response = await fetch(\"https://api.thecatapi.com/v1/images/search?limit=12\")\r\n      console.log(\"http response\", response)\r\n      if (response.status !== 200) {\r\n        throw new Error(\"oops http error\");\r\n      }\r\n      const data = await response.json();\r\n      console.log(\"API info all\", data);\r\n      console.log(\"API info array 0\", data[0]);\r\n\r\n      console.log(catsInfo.length);\r\n      setCatsInfo(data);\r\n\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError({ error: true, message: error.message })\r\n    }\r\n  };\r\n\r\n  console.log(basketAdd);\r\n  console.log(total);\r\n\r\n  const addBasketHandler = (name, index, url, amount) => {\r\n    const storedBasket = [...basketAdd]\r\n    storedBasket.push({ name: name, url: url, amount: amount })\r\n    setBasketAdd(storedBasket)\r\n\r\n    const storedTotal = [...total]\r\n    storedTotal.push(parseFloat(amount))\r\n    setTotal(storedTotal)\r\n\r\n    setCount(count + 1)\r\n  }\r\n\r\n  const fakeNameHandler = () => {\r\n    const storedCatNames = [...catName]\r\n    const storedCatPrice = [...catPrice]\r\n    const storedGenre = [...genre]\r\n\r\n    for (let i = 0; i < 12; i++) {\r\n      storedCatNames.push(faker.name.firstName())\r\n      setCatName(storedCatNames)\r\n\r\n      storedCatPrice.push(faker.finance.amount())\r\n      setCatPrice(storedCatPrice)\r\n\r\n      storedGenre.push(faker.music.genre())\r\n      setGenre(storedGenre)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (catsInfo.length === 0) {\r\n      handler();\r\n      console.log(\"use effect ran\");\r\n    }\r\n    fakeNameHandler()\r\n  }, []);\r\n\r\n  if (!catsInfo) {\r\n    return <p>loading...</p>\r\n  }\r\n\r\n  if (error.error) {\r\n    return <h1>{error.message}</h1>\r\n  }\r\n\r\n  const handleOpenModal = () => {\r\n    setShowModal(true)\r\n  }\r\n  const handleCloseModal = () => {\r\n    setShowModal(false)\r\n  }\r\n\r\n\r\n  const Cat = (props) => {\r\n    return (\r\n      <div data-testId=\"catDiv\" className=\"card\">\r\n        <img src={props.pic} className=\"imgCat rotate\" alt=\"cat\" />\r\n        <p>Hi, my name is {props.catName}. I love {props.music} music.</p>\r\n        <div className=\"cardFooter\">\r\n          <p>£{props.amount}</p>\r\n\r\n          <button className=\"adoptBtn\" onClick={() => addBasketHandler(props.catName, props.index, props.pic, props.amount)}>please ADOPT ME</button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div >\r\n      <div className=\"header\">\r\n        <Modal isOpen={showModal} >\r\n          <Basket count={count} setCount={setCount} handleCloseModal={handleCloseModal} catsInfo={catsInfo} catName={catName} catPrice={catPrice} basketAdd={basketAdd} setBasketAdd={setBasketAdd} total={total} setTotal={setTotal} />\r\n        </Modal>\r\n        <img className=\"cats5lyf\" src={CatImg} />\r\n        <div className=\"countBtn\">\r\n          <p>In basket: {count}</p>\r\n          \r\n          <button onClick={handleOpenModal} >Open Basket</button>\r\n          </div>\r\n\r\n\r\n        \r\n      </div>\r\n\r\n\r\n      <div className=\"catGrid\">\r\n        {catsInfo.map((cat, index) => {\r\n          return <Cat key={index} pic={cat.url} index={index} catName={catName[index]} music={genre[index]} amount={catPrice[index]} />\r\n        })}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\n// import App2 from './app2';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}